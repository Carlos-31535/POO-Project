<Window x:Class="POOProject.Views.AddArranjoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Novo Talão de Arranjo"
        Height="650"
        Width="550"
        WindowStartupLocation="CenterScreen"
        Background="#F2F3F5">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Dados do Cliente -->
        <Border Grid.Row="0"
                Background="White"
                CornerRadius="8"
                BorderBrush="#DDD"
                BorderThickness="1"
                Padding="20">

            <StackPanel>
                <TextBlock Text="Dados do Cliente"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#333"
                           Margin="0,0,0,15"/>

                <StackPanel Orientation="Horizontal">
                    <StackPanel Width="220" Margin="0,0,10,0">
                        <TextBlock Text="Nome" Foreground="#555"/>
                        <TextBox Text="{Binding NomeCliente}"
                                 Height="35"
                                 Padding="10"
                                 Background="#F9F9F9"
                                 BorderBrush="#CCC"/>
                    </StackPanel>

                    <StackPanel Width="220">
                        <TextBlock Text="Apelido" Foreground="#555"/>
                        <TextBox Text="{Binding SobrenomeCliente}"
                                 Height="35"
                                 Padding="10"
                                 Background="#F9F9F9"
                                 BorderBrush="#CCC"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,15,0,0">
                    <TextBlock Text="Nº de Pares" Foreground="#555" VerticalAlignment="Center"/>
                    <ComboBox SelectedValue="{Binding NumeroPares}"
                              SelectedValuePath="Content"
                              Width="70"
                              Height="30"
                              Margin="10,0,0,0">
                        <ComboBoxItem Content="1" IsSelected="True"/>
                        <ComboBoxItem Content="2"/>
                        <ComboBoxItem Content="3"/>
                        <ComboBoxItem Content="4"/>
                        <ComboBoxItem Content="5"/>
                    </ComboBox>
                </StackPanel>

                <StackPanel Margin="0,15,0,0">
                    <TextBlock Text="Funcionário Responsável"
                               Foreground="#555"
                               Margin="0,0,0,5"/>

                    <ComboBox ItemsSource="{Binding ListaFuncionarios}"
                              SelectedItem="{Binding FuncionarioSelecionado}"
                              DisplayMemberPath="NomeCompleto"
                              Height="35"
                              Padding="5"
                              Background="White"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Lista de Reparações -->
        <ScrollViewer Grid.Row="1" Margin="0,15,0,0">
            <ItemsControl ItemsSource="{Binding RepairItems}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="White"
                                CornerRadius="8"
                                BorderBrush="#009688"
                                BorderThickness="1"
                                Padding="15"
                                Margin="0,0,0,15">

                            <StackPanel>
                                <TextBlock Text="{Binding Title}"
                                           FontSize="15"
                                           FontWeight="Bold"
                                           Foreground="#009688"
                                           Margin="0,0,0,10"/>

                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                    <StackPanel Width="160" Margin="0,0,15,0">
                                        <TextBlock Text="Tipo de Calçado" FontSize="11" Foreground="#777"/>
                                        <ComboBox ItemsSource="{Binding TiposDisponiveis}"
                                                  SelectedItem="{Binding SelectedTipo}"/>
                                    </StackPanel>

                                    <StackPanel Width="160">
                                        <TextBlock Text="Cor" FontSize="11" Foreground="#777"/>
                                        <ComboBox ItemsSource="{Binding CoresDisponiveis}"
                                                  SelectedItem="{Binding SelectedCor}"/>
                                    </StackPanel>
                                </StackPanel>

                                <TextBlock Text="Serviços"
                                           FontWeight="SemiBold"
                                           Margin="0,5,0,5"/>

                                <ItemsControl ItemsSource="{Binding AvailableServices}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <CheckBox Content="{Binding Name}"
                                                      IsChecked="{Binding IsSelected}"
                                                      Margin="0,0,15,5"/>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                                <TextBlock Text="Observações"
                                           Margin="0,10,0,5"/>

                                <TextBox Text="{Binding Description}"
                                         Height="45"
                                         TextWrapping="Wrap"
                                         AcceptsReturn="True"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- Guardar -->
        <Button Grid.Row="2"
                Content="Guardar Talão"
                Command="{Binding SaveCommand}"
                Height="45"
                Background="#009688"
                Foreground="White"
                FontWeight="Bold"
                BorderThickness="0"
                Cursor="Hand"
                Margin="0,15,0,0"/>
    </Grid>
</Window>
